apiVersion: v1
kind: Secret
metadata:
  name: redis-secret
type: kubernetes.io/dockerconfigjson
data:
  .dockerconfigjson: e30=
  address: {{ .Values.redis.address | b64enc }}
  {{ if .Values.redis.pwd  }}
  pwd: {{ .Values.redis.pwd | b64enc }}
  {{ else }}
  pwd: ''
  {{ end }}
  poolsize: {{ .Values.redis.poolsize | b64enc }}
  maxidle: {{ .Values.redis.maxidle | b64enc }}
  idletimeout: {{ .Values.redis.idletimeout | b64enc }}
